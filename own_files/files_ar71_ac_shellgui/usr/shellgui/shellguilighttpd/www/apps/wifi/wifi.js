!function(){var t=[];$('[name="nic-switch"]').each(function(){var i=$(this).prop("id").split("_").pop();t.push(i)});for(var i in t)$("#switch_"+t[i]).prop("checked")||(Ha.disableForm("wifi_set_"+t[i]),$("#ssid_item_"+t[i]).addClass("hidden"),$("#switch_"+t[i]).parent().removeAttr("data-toggle"),$("#wifi_set_"+t[i]).parent().css("border-bottom-width","0px"));var s=[];$('[name="ssid-switch"]').each(function(){var t=$(this).prop("id").replace("switch_","");s.push(t)});for(var i in s)$("#switch_"+s[i]).prop("checked")||(Ha.disableForm("ssid_set_"+s[i]),$("#switch_"+s[i]).parent().removeAttr("data-toggle"));$('[name="encryption"]').change(function(){var t=$(this).prop("id").split("_").pop();"none"!=$(this).val()?($("#"+t+"_key").removeClass("hidden"),$("#"+t+"_key").find("input").focus()):$("#"+t+"_key").addClass("hidden")});var e,a,o;$('[name="nic-switch"],[name="ssid-switch"]').click(function(){var t=$(this).prop("checked"),i=$(this).parent();if(e=$(this).prop("id").split("_").pop(),a=$(this).prop("name").split("-").shift(),"nic"==a?($("#modal_ensure_text").html(UI.Do_you_want_disable_this_nic),$("#modal_result_text").html(UI.This_will_disable_the_APs)):(a="ap",$("#modal_ensure_text").html(UI.Do_you_want_disable_this_ap),$("#modal_result_text").html(UI.This_will_make_all_client_lost_connection)),o="app=wifi&action=disabled_"+a+"&"+a+"="+e+"&disabled=",!t)return!1;var s=o+0;$.post("/",s,Ha.showNotify,"json"),"nic"==a?(setTimeout(function(){i.attr("data-toggle","modal")},5),Ha.reableForm("wifi_set_"+e),$("#ssid_item_"+e).removeClass("hidden"),$("#wifi_set_"+e).parent().css("border-bottom-width","3px")):(Ha.reableForm("ssid_set_"+e),setTimeout(function(){i.attr("data-toggle","modal")},5))}),$("#disable_btn").click(function(){$(".switch-ctrl").find("#switch_"+e).prop("checked",!1);var t=o+1;$.post("/",t,Ha.showNotify,"json"),"nic"==a?(Ha.disableForm("wifi_set_"+e),$("#ssid_item_"+e).addClass("hidden"),$("#switch_"+e).parent().removeAttr("data-toggle"),$("#wifi_set_"+e).parent().css("border-bottom-width","0px")):(Ha.disableForm("ssid_set_"+e),$("#switch_ctrl_"+e).removeAttr("data-toggle"))}),$('[name="wifi_set"]').submit(function(){var t="app=wifi&action=save_nic&"+$(this).serialize(),i=$(this).prop("id");return Ha.ajax("/","json",t,"post",i,Ha.showNotify,1),!1}),$('[name="ssid_set"]').submit(function(){var t=$(this).prop("id"),i=t.split("_").pop(),s="app=wifi&action=save_ap&ap="+i+"&"+$(this).serialize();return Ha.ajax("/","json",s,"post",t,Ha.showNotify,1),!1})}();