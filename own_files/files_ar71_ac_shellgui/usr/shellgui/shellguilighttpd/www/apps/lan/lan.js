!function(){function a(){var a=$('[name="lan_ip_mask"]'),n=a.attr("data-order"),i="app=lan&action=ip_mask_tip&lan="+n+"&"+a.serialize();a.prop("id");return $.post("/",i,function(a){Ha.reableForm("dhcp_"+n);var i=$("#dhcp_"+n);i.find('[name="start_ip_prefix"]').html(a.start_ip_prefix),i.find('[name="end_ip"]').val(a.end_ip),i.find('[name="max_ips"]').html(a.max_ips),1==a.status&&(Ha.showNotify(a),Ha.disableForm("dhcp_"+n))},"json"),!1}function n(a){if(Ha.showNotify(a),a&&0==a.status){var n=$("#"+n).attr("data-order"),i=$("#dhcp_"+n);i.find('[name="start_ip_prefix"]').html(a.start_ip_prefix),i.find('[name="end_ip"]').val(a.end_ip),i.find('[name="max_ips"]').html(a.max_ips)}}$('[name="netmask"]').change(a),$('[name="ip"]').blur(a),$("#confirm_submit").click(function(){var a=$('[name="lan_ip_mask"]'),i=a.attr("data-order"),t="app=lan&action=lan_ip_mask&lan="+i+"&"+a.serialize(),e=a.prop("id");Ha.ajax("/","json",t,"post",e,n,1)}),$('[name="switch-lan"]').click(function(){var a=$(this).prop("checked"),n=$(this).attr("data-order"),i="dhcp_"+n;if(a){Ha.reableForm(i);var t="app=lan&action=dhcp_server_switch&lanzone="+n+"&enabled=1";Ha.ajax("/","json",t,"post","",Ha.showNotify,1)}else{Ha.disableForm(i);var t="app=lan&action=dhcp_server_switch&lanzone="+n+"&enabled=0";Ha.ajax("/","json",t,"post","",Ha.showNotify,1)}}),$('[name="dhcp"]').submit(function(){var a=$(this),n=a.attr("data-order"),i="app=lan&action=lan_dhcp_mask&lan="+n+"&"+a.serialize();return Ha.ajax("/","json",i,"post",a.prop("id"),Ha.showNotify,1),!1})}();