!function(){function a(a,n){var a=a||1,n=n||10;$.post("/","app=lan-net-record&action=net_record_server_visit_count&per_page_records="+n,function(e){s=e,t(e,a),Ha.setFooterPosition()},"json"),$.post("/","app=lan-net-record&action=net_record_server_visit_get_page&page="+a+"&per_page_records="+n,function(t){i=t.result,e(i,a),Ha.setFooterPosition()},"json")}function t(t,e){var s,i;if($("#pager").empty(),!t.pages)return!1;1==e?(s="disabled",1==t.pages&&(i="disabled")):e==t.pages?i="disabled":(s="",i="");var n='<ul class="pagination"><li class="'+s+'" id="prev_btn"><a href="#"><span>«</span></a></li><li class="'+i+'" id="next_btn"><a href="#"><span>»</span></a></li></ul>';$("#pager").append(n),$("#prev_btn").click(function(){return 1!==e&&(a(e-1),void(e-=1))}),$("#next_btn").click(function(){return e!==t.pages&&(a(e+1),void(e+=1))});for(var d=1;d<=t.pages;d++){var r;r=d==e?"active":"";var p='<li class="'+r+' page_item"><a href="" id="pager_num_'+d+'">'+d+"</a></li>";$("#next_btn").before($(p)),function(t){$("#pager_num_"+t).click(function(){return t!==e&&("..."!=$(this).html()&&a(t),!1)})}(d)}t.pages>=11&&(e<=6?$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();a>=12&&a<=t.pages-2&&$(this).addClass("hidden"),a==t.pages-1&&($(this).find("a").html("..."),$(this).addClass("disabled"))}):e>=t.pages-5?$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();2==a&&($(this).find("a").html("..."),$(this).addClass("disabled")),a>2&&a<t.pages-10&&$(this).addClass("hidden")}):$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();(a<=e-5||a>=e+5)&&(1==a||a==t.pages||(2==a||a==t.pages-1?($(this).find("a").html("..."),$(this).addClass("disabled")):$(this).addClass("hidden")))}))}function e(a,t){var t=t||1;if($("#visits_container").empty(),a){n=t,$("#pager").removeClass("hidden");for(var e=0;e<a.length;e++){var s=a[e],i=formatTime(new Date(1e3*s.Time),"yyyy-MM-dd hh:mm"),d='<tr><td class="text-left">'+s.DestServer+'</td><td class="text-left">'+s.FromAP+'</td><td class="text-left">'+s.LanIP+'</td><td class="text-left">'+s.Mac+'</td><td class="text-left">'+i+"</td></tr>";$(d).appendTo($("#visits_container"))}Ha.mask.hide()}else{var r='<tr><td colspan="4">没有访问记录</td><tr>';$(r).appendTo($("#visits_container")),Ha.mask.hide()}}Ha.mask.show();var s,i,n=1;a()}();