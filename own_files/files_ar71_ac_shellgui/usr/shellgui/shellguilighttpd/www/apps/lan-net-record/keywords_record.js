!function(){function a(a,n){var a=a||1,n=n||10;$.post("/","app=lan-net-record&action=net_record_search_keyword_count&per_page_records="+n,function(t){s=t,e(t,a),Ha.setFooterPosition()},"json"),$.post("/","app=lan-net-record&action=net_record_search_keyword_get_page&page="+a+"&per_page_records="+n,function(e){i=e.result,t(i,a),Ha.setFooterPosition()},"json")}function e(e,t){var s,i;if($("#pager").empty(),!e.pages)return!1;1==t?(s="disabled",1==e.pages&&(i="disabled")):t==e.pages?i="disabled":(s="",i="");var n='<ul class="pagination"><li class="'+s+'" id="prev_btn"><a href="#"><span>«</span></a></li><li class="'+i+'" id="next_btn"><a href="#"><span>»</span></a></li></ul>';$("#pager").append(n),$("#prev_btn").click(function(){return 1!==t&&(a(t-1),void(t-=1))}),$("#next_btn").click(function(){return t!==e.pages&&(a(t+1),void(t+=1))});for(var d=1;d<=e.pages;d++){if(d<16){var r;r=d==t?"active":"";var p='<li class="'+r+'"><a href="" id="pager_num_'+d+'">'+d+"</a></li>";$("#next_btn").before($(p))}!function(e){$("#pager_num_"+e).click(function(){return e!==t&&(a(e),!1)})}(d)}e.pages>=11&&(t<=6?$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();a>=12&&a<=e.pages-2&&$(this).addClass("hidden"),a==e.pages-1&&($(this).find("a").html("..."),$(this).addClass("disabled"))}):t>=e.pages-5?$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();2==a&&($(this).find("a").html("..."),$(this).addClass("disabled")),a>2&&a<e.pages-10&&$(this).addClass("hidden")}):$(".page_item").each(function(){var a=$(this).find("a").prop("id").split("_").pop();(a<=t-5||a>=t+5)&&(1==a||a==e.pages||(2==a||a==e.pages-1?($(this).find("a").html("..."),$(this).addClass("disabled")):$(this).addClass("hidden")))}))}function t(a,e){var e=e||1;if($("#keywords_container").empty(),a){n=e,$("#pager").removeClass("hidden");for(var t=0;t<a.length;t++){var s=a[t],i=formatTime(new Date(1e3*s.Time),"yyyy-MM-dd hh:mm"),d='<tr><td class="text-left" style="width: 15%">'+s.Keyword+'</td><td class="text-left">'+s.FromAP+'</td><td class="text-left">'+s.LanIP+'</td><td class="text-left">'+s.Mac+'</td><td class="text-left">'+i+"</td></tr>";$(d).appendTo($("#keywords_container"))}Ha.mask.hide()}else{var r='<tr><td colspan="4">没有访问记录</td><tr>';$(r).appendTo($("#keywords_container")),Ha.mask.hide()}}Ha.mask.show();var s,i,n=1;a()}();